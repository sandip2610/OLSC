<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Hostel</title>
    <style>
        * { margin: 0;padding: 0;box-sizing: border-box;font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;}
        body {background: linear-gradient(135deg, #1a2a6c, #b21f1f, #fdbb2d);min-height: 100vh;padding: 0px;color: #333;}
        .container {max-width: 1300px;margin: 0 auto;}
        header {text-align: center;margin-bottom: 30px;color: black;text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);}
        h2 {font-size: 2.5rem;margin-bottom: 10px;}
        .description {font-size: 1.1rem;max-width: 800px;margin: 0 auto;}
        .hostel-grid {display: grid;grid-template-columns: repeat(auto-fit, minmax(480px, 1fr));gap: 20px;margin-bottom: 40px;}
        .hostel-card {background: white;border-radius: 2px;overflow: hidden;box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);transition: transform 0.3s ease;cursor: pointer;}
        .hostel-card:hover {transform: translateY(-5px);}
        .hostel-header {padding: 20px;text-align: center;color: white;font-weight: bold;font-size: 1.2rem;}
        .boys-hostel {background: linear-gradient(to right, #1a2980, #26d0ce);}
        .girls-hostel {background: linear-gradient(to right, #8E0E00, #1F1C18);}
        .hostel-content {padding: 15px;}
        .hostel-content p {margin: 10px 0;display: flex;align-items: center;}
        .hostel-content i {margin-right: 10px;color: #1a2980;}
        .btn {display: block;width: 100%;padding: 12px;background: #1a2980;color: white;border: none;border-radius: 5px;cursor: pointer;font-size: 1rem;margin-top: 15px;transition: background 0.3s ease;}
        .btn:hover {background: #26d0ce;}
        .modal {display: none;position: fixed;top: 0;left: 0;width: 100%;height: 100%;background: rgba(0, 0, 0, 0.7);z-index: 1000;overflow-y: auto;}
        .modal-content {background: white;margin: 50px auto;border-radius: 10px;width: 90%;max-width: 800px;box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);animation: modalFade 0.3s;}
        @keyframes modalFade {
            from {opacity: 0;transform: translateY(-50px);}
            to {opacity: 1;transform: translateY(0);}
        }
        .modal-header {padding: 20px;background: linear-gradient(to right, #1a2980, #26d0ce);color: white;border-top-left-radius: 10px;border-top-right-radius: 10px;display: flex;justify-content: space-between;align-items: center;}
        .close {font-size: 1.5rem;cursor: pointer;transition: color 0.3s ease;}
        .close:hover {color: #fdbb2d;}
        .modal-body {padding: 20px;}
        table {width: 100%;border-collapse: collapse;margin-top: 20px;}
        th, td {padding: 15px;text-align: left;border-bottom: 1px solid #ddd;}
        th {background: #f5f5f5;font-weight: 600;}
        tr:hover {background: #f9f9f9;}
        .room-cost {font-weight: bold;color: #1a2980;}
        .footer {text-align: center;margin-top: 30px;color: white;padding: 20px;}
        @media (max-width: 768px) {
            .hostel-grid {grid-template-columns: 1fr;}
            th, td {padding: 10px;}
            .modal-content {width: 95%;margin: 20px auto;}
        }
    </style>
</head>
<body>
{% extends "base.html" %}
{% block title %}Smart School{% endblock %}
{% block content %}
<div class="container">
    <header>
        <h2>Hostel Room Management System</h2>
        <p class="description">Browse and manage hostel room details. Click on any hostel to view available rooms and their costs.</p>
    </header>
    <div class="hostel-grid">
        {% for hostel in hostels %}
        <div class="hostel-card" onclick="openModal('modal{{ hostel.id }}')">
            <div class="hostel-header {% if hostel.gender == 'Male' %}boys-hostel{% else %}girls-hostel{% endif %}">
                <h2>{{ hostel.name }}</h2>
            </div>
            <div class="hostel-content">
                {% if hostel.gender == 'Male' %}
                    <p><i class="fas fa-male"></i> For Male Students</p>
                {% else %}
                    <p><i class="fas fa-female"></i> For Female Students</p>
                {% endif %}
                <p><i class="fas fa-building"></i> {{ hostel.rooms.count }} Room Types Available</p>
                <p><i class="fas fa-map-marker-alt"></i> Located in {{ hostel.location }}</p>
                <button class="btn">View Rooms</button>
            </div>
        </div>
        <div id="modal{{ hostel.id }}" class="modal">
            <div class="modal-content">
                <div class="modal-header {% if hostel.gender == 'Male' %}boys-hostel{% else %}girls-hostel{% endif %}">
                    <h2>{{ hostel.name }} - Room Details</h2>
                    <span class="close" onclick="closeModal('modal{{ hostel.id }}')">&times;</span>
                </div>
                <div class="modal-body">
                    <table>
                        <thead>
                            <tr>
                                <th>Room Type</th>
                                <th>Room No</th>
                                <th>Room Cost</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for room in hostel.rooms.all %}
                            <tr>
                                <td>{{ room.room_type }}</td>
                                <td>{{ room.room_number }}</td>
                                <td class="room-cost">${{ room.room_cost }}</td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
</div>

<script>
    function openModal(id) {
        document.getElementById(id).style.display = 'block';
    }
    function closeModal(id) {
        document.getElementById(id).style.display = 'none';
    }
    window.onclick = function(event) {
        if (event.target.classList.contains('modal')) {
            event.target.style.display = 'none';
        }
    }
    document.addEventListener('keydown', function(event) {
        if (event.key === 'Escape') {
            document.querySelectorAll('.modal').forEach(modal => modal.style.display = 'none');
        }
    });
</script>
{% endblock %}
</body>
</html>