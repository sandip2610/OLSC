<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Home</title>
  <style>
    * {margin: 0; padding: 0; box-sizing: border-box;font-family: "Segoe UI", Arial, sans-serif;}
    body {background: #f5f5f5;padding: 10px;}
    .card {background: #fff;border-radius: 10px;padding: 15px 20px;margin-bottom: 15px;display: flex;justify-content: space-between;align-items: center;box-shadow: 0 3px 8px rgba(0,0,0,0.1);font-size: 16px;cursor: pointer;transition: 0.3s;}
    .card:hover {transform: translateY(-2px);}
    .card span {font-weight: bold;}
    .calendar {background: #fff;border-radius: 6px;box-shadow: 0 3px 10px rgba(0,0,0,0.1);padding: 10px;max-width: 1200px;margin: auto;}
    .calendar-header {display: flex;justify-content: space-between;align-items: center;font-weight: bold;margin-bottom: 10px;font-size: 20px;background: #e3f2fd;padding: 10px;border-radius: 2px;}
    .calendar-header button {background: #2196f3;border: none;font-size:15px;cursor: pointer;color: #fff;padding: 5px 15px;border-radius: 6px;transition: 0.3s;}
    .calendar-header button:hover {background: #0b7dda;}
    .calendar-weekdays {display: grid;grid-template-columns: repeat(7, 1fr);gap: 2px;margin-bottom: 5px;}
    .weekday {font-weight: bold;padding: 10px 0;color: #333;text-align: center;border-radius: 2px;background: #f0f0f0;}
    .calendar-days {display: grid;grid-template-columns: repeat(7, 1fr);gap: 2px;}
    .day {width: 100%;height: 50px;border: 1px solid #e0e0e0;border-radius: 2px;display: flex;justify-content: center;align-items: center;cursor: pointer;font-weight: 500;font-size: 20px;transition: 0.2s;background: #fafafa;}
    .day:hover {background: #e3f2fd;}
    .selected {background: #2196f3 !important;color: white;font-weight: bold;border: none;}
    .sunday {background: #fdecea !important;color: #d9534f;font-weight: bold;}
  </style>
</head>
<body>
{% extends "base.html" %}
{% block title %}Smart School{% endblock %}
{% block content %}
  <div class="card">üìå Attendance (This Month) <span>85%</span></div>
  <div class="card">üìö Homework (Incomplete) <span>4</span></div>
  <div class="card">üìù My Pending Tasks (Today) <span>2</span></div>
  <div class="calendar">
    <div class="calendar-header">
      <button id="prev">&lt;</button>
      <div id="monthYear"></div>
      <button id="next">&gt;</button>
    </div>
    <div class="calendar-weekdays">
      <div class="weekday">Sun</div>
      <div class="weekday">Mon</div>
      <div class="weekday">Tue</div>
      <div class="weekday">Wed</div>
      <div class="weekday">Thu</div>
      <div class="weekday">Fri</div>
      <div class="weekday">Sat</div>
    </div>
    <div class="calendar-days" id="calendarDays"></div>
  </div>
  <script>
    const monthYear = document.getElementById("monthYear");
    const calendarDays = document.getElementById("calendarDays");
    const prevBtn = document.getElementById("prev");
    const nextBtn = document.getElementById("next");
    let date = new Date();
    function renderCalendar() {
      const year = date.getFullYear();
      const month = date.getMonth();
      const firstDay = new Date(year, month, 1).getDay();
      const lastDate = new Date(year, month + 1, 0).getDate();
      const months = [
        "January","February","March","April","May","June",
        "July","August","September","October","November","December"
      ];
      monthYear.innerText = `${months[month]} ${year}`;
      calendarDays.innerHTML = "";
      for (let i = 0; i < firstDay; i++) {
        const empty = document.createElement("div");
        calendarDays.appendChild(empty);
      }
      for (let d = 1; d <= lastDate; d++) {
        const day = document.createElement("div");
        day.classList.add("day");
        day.innerText = d;
        const thisDate = new Date(year, month, d);
        if (thisDate.getDay() === 0) {
          day.classList.add("sunday");
        }
        let today = new Date();
        if (d === today.getDate() && month === today.getMonth() && year === today.getFullYear()) {
          day.classList.add("selected");
        }
        day.addEventListener("click", () => {
          document.querySelectorAll(".day").forEach(el => el.classList.remove("selected"));
          day.classList.add("selected");
        });
        calendarDays.appendChild(day);
      }
    }
    prevBtn.addEventListener("click", () => {
      date.setMonth(date.getMonth() - 1);
      renderCalendar();
    });
    nextBtn.addEventListener("click", () => {
      date.setMonth(date.getMonth() + 1);
      renderCalendar();
    });
    renderCalendar();
  </script>
{% endblock %}
</body>
</html>