<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>base</title>
  <link rel="stylesheet" href="style.css" />
  {% load static %}
  {% load i18n %}
  <link rel="stylesheet" href="{% static 'css/styles.css' %}">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; font-family: Arial, sans-serif; }
    body { background: #f4f4f4; color: #333; display: flex; }
    .header {display: flex;align-items: center;justify-content: center;background: #4169E1 ;color: white;padding: 15px;position: fixed;top: 0;left: 0;width: 100%;z-index: 999;}
    .menu-btn {font-size: 22px;cursor: pointer;display: none;position: absolute;left: 10px;}
    .sidebar {width: 250px; height: calc(95vh - 48px);background: #4169E1; color: white; padding: 20px;transition: left 0.3s ease;position: fixed; top: 49px;left: 0;}
    .sidebar h3 { margin-bottom: 20px; }
    .sidebar ul { list-style: none;margin: 0 !important;padding: 0 !important; }
    .sidebar ul li {margin: 10px 0; padding: 5px; border-radius: 2px;cursor: pointer; transition: 0.2s;}
    .sidebar ul li:hover { background: #2c3e50; }
    .profile {text-align: left;margin-bottom: 2px;}
    .profile-img1 {width: 100px;height: 100px;border-radius: 50%;border: 2px solid #2c3e50;margin-bottom: 0px;}
    .profile h3 {margin: 2px 0;font-size: 18px;font-weight: bold;}
    .profile p {font-size: 14px;color: #ccc;margin: 2px 0;}
    .divider {border: none;height: 1px;background: #2c3e50;margin: 10px 0;}
    .menu-section {max-height: calc(95vh - 255px);overflow-y: auto;padding-right: 5px; padding-bottom: 25px;}
    .menu-section::-webkit-scrollbar {width: 6px;}
    .menu-section::-webkit-scrollbar-thumb {background: #2c3e50;border-radius: 4px;}
    .dashboard {flex: 1;padding: 90px 20px 80px 270px;width: 100%;}
    .card {background: white; padding: 15px; border-radius: 8px;margin-bottom: 15px; display: flex; justify-content: space-between;align-items: center; box-shadow: 0 2px 5px rgba(0,0,0,0.1);}
    .bottom-nav {position: fixed; bottom: 0; left: 0; width: 100%;background: #fff; display: flex; justify-content: space-around;padding: 10px 0; border-top: 1px solid #ccc;}
    .bottom-nav div {text-align: center;font-size: 14px;cursor: pointer;flex: 1;padding: 4px 0;border-right: 2px solid #ccc;}
    .bottom-nav div:last-child {border-right: none;}
    .bottom-nav a {text-decoration: none;color: #333;display: block;}
    .bottom-nav a:hover {color: #007bff;text-decoration: none;}
    @media (max-width: 768px) {
      body {flex-direction: column;}
      .menu-btn {display: block;}
      .sidebar {position: fixed;top: 49px ;left: -250px;width: 250px;height: calc(100% - 60px);z-index: 1000;transition: left 0.3s ease;background: #4169E1;}
      .sidebar.active {left: 0;}
      .dashboard {padding: 70px 20px 70px 20px;margin-bottom: 60px;}
      .bottom-nav {position: fixed;bottom: 0;left: 0;width: 100%;z-index: 1100;}
    }
    .logo {display: flex;align-items: center;justify-content: center;height: 20px;}
    .logo img {height: 60px;width: auto;object-fit: contain;cursor: pointer;transition: transform 0.2s ease-in-out;}
    .logo img:hover {transform: scale(1.05);}
    .sidebar ul li a {display: block;color: #fff;text-decoration: none;padding: 0px 0px;border-radius: 5px;transition: background 0.2s;}
    .sidebar ul li a:hover {background: #2c3e50;color: #fff;}
    .sidebar ul li a:visited {color: #fff;}
    /* ===== DARK MODE START ===== */
    .dark-mode {background: #121212;color: #f0f0f0;}
    .dark-mode body {background-color: #121212;color: #f0f0f0;}
    .dark-mode .header,
    .dark-mode .bottom-nav,
    .dark-mode .profile-header {background: #222;}
    .dark-mode .sidebar {background: #1a1a1a;}
    .dark-mode .card,
    .dark-mode .profile-card,
    .dark-mode .homework-card,
    .dark-mode .summary-card,
    .dark-mode .result-card,
    .dark-mode .notice-item,
    .dark-mode .bus-card,
    .dark-mode .hostel-card {background: #1e1e1e;color: #f0f0f0;}
    .dark-mode button {background-color: #2196f3;color: #fff;}
    .dark-mode button:hover {background-color: #0b7dda;}
    .dark-mode .btn {background: #26d0ce;color: #fff;}
    .dark-mode .btn:hover {background: #1a2980;}
    .dark-mode form {background-color: #1e1e1e;border: 1px solid #333;color: #f0f0f0;}
    .dark-mode input[type="text"],
    .dark-mode input[type="number"],
    .dark-mode input[type="file"],
    .dark-mode input[type="datetime-local"],
    .dark-mode textarea,
    .dark-mode select {background-color: #2a2a2a;color: #f0f0f0;border: 1px solid #444;}
    .dark-mode .calendar {background: #1e1e1e;color: #f0f0f0;}
    .dark-mode .calendar .calendar-header {background: #333;}
    .dark-mode .calendar .calendar-weekdays .weekday {background: #2c2c2c;color: #f0f0f0;}
    .dark-mode .calendar .calendar-days .day {background: #2a2a2a;border: 1px solid #444;color: #f0f0f0;}
    .dark-mode .calendar .calendar-days .day:hover {background: #444;}
    .dark-mode .calendar .calendar-days .day.selected {background: #2196f3;color: #fff;}
    .dark-mode .calendar .calendar-days .day.sunday {background: #551111;color: #ff9999;}
    .dark-mode .tabs {border-bottom: 1px solid #444;}
    .dark-mode .tabs button {background: #2a2a2a;color: #f0f0f0;}
    .dark-mode .tabs button.active {background: #1e1e1e;color: #2196f3;border-bottom: 2px solid #2196f3;}
    .dark-mode .tab-content {background: #1a1a1a;}
    .dark-mode h2,
    .dark-mode h4,
    .dark-mode p,
    .dark-mode .info-row span,
    .dark-mode .notice-text,
    .dark-mode .bus-card h3 {color: #f0f0f0;}
    .dark-mode p { color: #ccc; }
    .dark-mode .summary-card p { color: #4da6ff; }
    .dark-mode p.no-results { color: #bbb; }
    .dark-mode a,
    .dark-mode .homework-card a {color: #4da6ff;}
    .dark-mode table {background: #1e1e1e;color: #f0f0f0;box-shadow: 0 4px 12px rgba(0,0,0,0.5);}
    .dark-mode th {background: #333;}
    .dark-mode tr:nth-child(even) {background: #2a2a2a;}
    .dark-mode tr:hover {background: #3a3a3a;}
    .dark-mode td {color: #f0f0f0;}
    .dark-mode .hostel-header.boys-hostel {background: linear-gradient(to right, #1a2980, #26d0ce);}
    .dark-mode .hostel-header.girls-hostel {background: linear-gradient(to right, #8E0E00, #1F1C18);}
    .dark-mode .hostel-content p { color: #ddd; }
    .dark-mode .room-cost { color: #26d0ce; }
    .dark-mode .modal-content { background: #1e1e1e; }
    .dark-mode .close { color: #fff; }
    .dark-mode .close:hover { color: #fdbb2d; }
    .dark-mode .footer { color: #f0f0f0; }
    .dark-mode .pass { background-color: #27ae60; color: #fff; }
    .dark-mode .fail { background-color: #c0392b; color: #fff; }
    .dark-mode .notice-section { background-color: #1e1e1e; }
    .dark-mode .notice-board {background-color: #2a2a2a;box-shadow: 0 4px 20px rgba(0,0,0,0.6);}
    .dark-mode .notice-header h4 { color: #f0f0f0; }
    .dark-mode .notice-date { color: #bbb; }
    .dark-mode .notice-item:hover { background-color: #333; }
    .dark-mode .search-box input[type="text"] {background-color: #1e1e1e;color: #f0f0f0;border: 1px solid #555;}
    .dark-mode .search-box input[type="text"]::placeholder {color: #aaa;}
    .dark-mode .search-box button {background: linear-gradient(135deg, #3498db, #2980b9);color: white;}
    .dark-mode .stoppages li {background-color: #2a2a2a;color: #ddd;border-left: 4px solid #3498db;}
    .dark-mode .stoppages li:hover {background-color: #333;border-left-color: #2980b9;}
        .dark-mode th {background: #333;color: #f0f0f0;}
        .dark-mode form label {color: #ccc;}
    .dark-mode table td, .dark-mode table th {background-color: #1e1e1e !important;color: #f0f0f0 !important;}
    .dark-mode .card-title {color: #f0f0f0 !important;}
    .dark-mode .card-time {color: #aaa !important;}
    .dark-mode .card-text {color: #ddd !important;}
      /* ===== DARK MODE END ===== */
  </style>
</head>
<body>
<div class="header" style="display:flex; align-items:center; justify-content:space-between; padding:5.6px; position:fixed; top:0; left:0; width:100%; background:#3154B5; z-index:999;">
    <div class="menu-btn" onclick="toggleSidebar()">â˜°</div>
    <div class="logo" style="flex:1; text-align:center;">
        <img src="{% static 'Blogrator[1].png' %}" alt="logo" style="height:60px; object-fit:contain; cursor:pointer; transition:0.2s;">
    </div>
    <div style="display:flex; align-items:center; gap:10px;">
        <button id="toggleTheme" style="padding:5px; border-radius:0px; font-size:16px; cursor:pointer;">ğŸŒ™</button>
    </div>
</div>
  <div class="sidebar" id="sidebar">
<div class="profile">
  {% if student %}
      {% if student.photo %}
          <img src="{{ student.photo.url }}" alt="Student" class="profile-img1">
      {% else %}
          <img src="https://cdn-icons-png.flaticon.com/512/3135/3135715.png" alt="Default" class="profile-img1">
      {% endif %}
      <h3>{{ student.name }}</h3>
      <b> Registration: {{ student.id }}</b><br>
      <b>DOB: {{ student.dob }}</b>
  {% else %}
      <p>No student data found.</p>
  {% endif %}
</div>
  <hr class="divider">
    <div class="menu-section">
    <ul>
    {% if student.is_librarian %}
        <li><a href="{% url 'home1' %}">ğŸ  Home</a></li>
        <li><a href="{% url 'library' %}">ğŸ“– Library</a></li>
        <li><a href="{% url 'timeline' %}">â˜° Timeline</a></li>
        <li><a href="{% url 'notices' %}">ğŸ“¢ Notice Board</a></li>
        <li><a href="{% url 'downloads' %}">â¬‡ï¸ Download Center</a></li>
        <li><a href="{% url 'bus' %}">ğŸ›£ï¸ Transport Route</a></li>
        <li><a href="{% url 'logout' %}">â†©ï¸ Logout</a></li>
        <li><a href="{% url 'seating'%}">âš™ï¸ Seating</a></li>
    {% elif student.is_teacher %}
        <li><a href="{% url 'home1' %}">ğŸ  Home</a></li>
        <li><a href="{% url 'profile' %}">ğŸ‘©â€ğŸ« Teacher Profile</a></li>
        <li><a href="{% url 'time' %}">ğŸ“… Class Time Table</a></li>
        <li><a href="{% url 'attendance' %}">ğŸ“ Student Attendance</a></li>
        <li><a href="{% url 'homework' %}">ğŸ“˜ Assign Homework</a></li>
        <li><a href="{% url 'downloads' %}">â¬‡ï¸ Download Center</a></li>
        <li><a href="{% url 'results' %}">ğŸ“Š Student Results</a></li>
        <li><a href="{% url 'timeline' %}">â˜° Timeline</a></li>
        <li><a href="{% url 'notices' %}">ğŸ“¢ Notice Board</a></li>
        <li><a href="{% url 'exam' %}">ğŸ“† Exam Schedule</a></li>
        <li><a href="{% url 'bus' %}">ğŸ›£ï¸ Transport Route</a></li>
        <li><a href="{% url 'teacher' %}">ğŸ‘¨â€ğŸ« All Teachers</a></li>
        <li><a href="{% url 'logout' %}">â†©ï¸ Logout</a></li>
        <li><a href="{% url 'seating'%}">âš™ï¸ Seating</a></li>
    {% else %}
      <li><a href="{% url 'home1' %}">ğŸ  Home</a></li>
      <li><a href="{% url 'profile' %}">ğŸ‘¨â€ğŸ’¼ Profile</a></li>
      <li><a href="{% url 'fees' %}">ğŸ’° Fees</a></li>
      <li><a href="{% url 'time' %}">ğŸ“… Time Table</a></li>
      <li><a href="{% url 'homework' %}">ğŸ“˜ Homework</a></li>
      <li><a href="{% url 'downloads' %}">â¬‡ï¸ Download Center</a></li>
      <li><a href="{% url 'attendance' %}">ğŸ“ Attendance</a></li>
      <li><a href="{% url 'results' %}">ğŸ“Š Report Card</a></li>
      <li><a href="{% url 'exam' %}">ğŸ“† Exam Schedule</a></li>
      <li><a href="{% url 'notices' %}">ğŸ“¢ Notice Board</a></li>
      <li><a href="{% url 'activities' %}">ğŸ¯ Activities</a></li>
      <li><a href="{% url 'certificates' %}">ğŸ“œ Certificates</a></li>
      <li><a href="{% url 'timeline' %}">â˜° Timeline</a></li>
        {% if student %}
            <li><a href="{% url 'student_documents' student.id %}">ğŸ“„ My Documents</a></li>
        {% else %}
            <li><span>ğŸ“„ My Documents (Not available)</span></li>
        {% endif %}
      <li><a href="{% url 'subject' %}">ğŸ“š Subject</a></li>
      <li><a href="{% url 'teacher' %}">ğŸ‘¨â€ğŸ« Teachers</a></li>
      <li><a href="{% url 'library' %}">ğŸ“– Library</a></li>
      <li><a href="{% url 'bus' %}">ğŸ›£ï¸ Transport Route</a></li>
      <li><a href="{% url 'hostel' %}">ğŸ¢ Hostels</a></li>
      <li><a href="{% url 'about' %}">â„¹ï¸ About School</a></li>
      <li><a href="{% url 'logout' %}">â†©ï¸ Logout</a></li>
      <li><a href="{% url 'seating'%}">âš™ï¸ Seating</a></li>
    {% endif %}
    </ul>
  </div>
</div>
  <div class="dashboard">
      {% block content %}{% endblock %}
  </div>
  <div class="bottom-nav">
      {% if student.is_librarian %}
    <div><a href="{% url 'home1' %}">ğŸ  Home</a></div>
    <div><a href="{% url 'notices' %}">ğŸ“¢ Notice</a></div>
      {% elif student.is_teacher %}
      <div><a href="{% url 'home1' %}">ğŸ  Home</a></div>
      <div><a href="{% url 'homework' %}">ğŸ“˜ Homework</a></div>
      <div><a href="{% url 'notices' %}">ğŸ“¢ Notice</a></div>
      <div><a href="{% url 'exam' %}">ğŸ“ Exam</a></div>
      {% else %}
    <div><a href="{% url 'home1' %}">ğŸ  Home</a></div>
    <div><a href="{% url 'homework' %}">ğŸ“˜ Homework</a></div>
    <div><a href="{% url 'fees' %}">ğŸ’° Fees</a></div>
    <div><a href="{% url 'notices' %}">ğŸ“¢ Notice</a></div>
    <div><a href="{% url 'exam' %}">ğŸ“ Exam</a></div>
      {% endif %}
  </div>
<script>
  function toggleSidebar() {
    document.getElementById("sidebar").classList.toggle("active");
  }
  document.addEventListener("click", function(event) {
    const sidebar = document.getElementById("sidebar");
    const menuBtn = document.querySelector(".menu-btn");
    if (sidebar.classList.contains("active") &&
        !sidebar.contains(event.target) &&
        !menuBtn.contains(event.target)) {
      sidebar.classList.remove("active");
    }
  });
const themeToggle = document.getElementById('toggleTheme');
if(themeToggle){
    themeToggle.addEventListener('click', () => {
        document.body.classList.toggle('dark-mode');
        if(document.body.classList.contains('dark-mode')){
            localStorage.setItem('theme', 'dark');
        } else {
            localStorage.setItem('theme', 'light');
        }
    });
    if(localStorage.getItem('theme') === 'dark'){
        document.body.classList.add('dark-mode');
    }
}
</script>
</body>
</html>