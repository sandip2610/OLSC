<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Smart School Certificates</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;background: #f0f4f8;color: #333;}
        h2 {color: #0d6efd;font-weight: 700;}
        .card {border: none;border-radius: 2px;overflow: hidden;transition: transform 0.4s ease, box-shadow 0.4s ease;background: linear-gradient(145deg, #ffffff, #e9f0ff);}
        .card:hover {transform: translateY(-10px);box-shadow: 0 20px 35px rgba(0, 0, 0, 0.15);}
        .card-body embed,
        .card-body img {border-bottom: 1px solid #dee2e6;border-radius: 2px 2px 0 0;}
        .card-footer {background: #fff;border-top: none;padding: 1rem 1rem 1.5rem 1rem;display: flex;flex-direction: column;align-items: center;}
        .card-footer h5 {font-size: 1.1rem;font-weight: 600;}
        .card-footer p {font-size: 0.9rem;color: #6c757d;margin-bottom: 0.8rem;}
        .btn-sm {min-width: 110px;font-weight: 500;}
        .alert-info {background: linear-gradient(135deg, #d9edf7, #cce5ff);color: #0c5460;font-weight: 500;font-size: 1rem;}
        @media (max-width: 767px) {
        .card-footer h5 {font-size: 1rem;}
        }
    </style>
</head>
<body>
{% extends "base.html" %}
{% block title %}Smart School{% endblock %}
{% block content %}
<div class="container my-5">
    <h2 class="text-center mb-5">üèÜ {{ student.name }}'s Certificates</h2>
    {% if certificates %}
        <div class="row g-4">
            {% for cert in certificates %}
            <div class="col-md-6 col-lg-4">
                <div class="card shadow-sm h-100">
                    <div class="card-body p-0">
                        {% if cert.file.url|lower|slice:"-4:" == ".pdf" %}
                            <embed src="{{ cert.file.url }}" type="application/pdf" class="w-100" style="height:200px;">
                        {% else %}
                            <img src="{{ cert.file.url }}" alt="{{ cert.name }}" class="w-100" style="height:200px; object-fit: cover;">
                        {% endif %}
                    </div>
                    <div class="card-footer">
                        <h5>{{ cert.name }}</h5>
                        <p>üìÖ Issued on: {{ cert.issue_date }}</p>
                        <div class="d-flex gap-2">
                            <a href="{{ cert.file.url }}" target="_blank" class="btn btn-sm btn-primary">View</a>
                            <a href="{{ cert.file.url }}" download class="btn btn-sm btn-success">Download</a>
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    {% else %}
        <div class="alert alert-info text-center rounded-4">
            No certificates found.
        </div>
    {% endif %}
</div>
{% endblock %}
</body>
</html>